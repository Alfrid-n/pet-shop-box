var localhost = "http://127.0.0.1:8545"
var account_1 = "0xD6658Be74Ed0Ba9B4ce62E8fdDC64513F55A4548"
var contract_address = "0x1a9442f66c81fA553454f2dBB080acB628bc8843"
var contract_abi = [
	{
		"inputs": [],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "have",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "want",
				"type": "address"
			}
		],
		"name": "OnlyCoordinatorCanFulfill",
		"type": "error"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "requestId",
				"type": "uint256"
			},
			{
				"indexed": false,
				"internalType": "uint256[]",
				"name": "randomWords",
				"type": "uint256[]"
			}
		],
		"name": "RequestFulfilled",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "requestId",
				"type": "uint256"
			},
			{
				"indexed": false,
				"internalType": "uint32",
				"name": "numWords",
				"type": "uint32"
			}
		],
		"name": "RequestSent",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "lastRequestId",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "requestId",
				"type": "uint256"
			},
			{
				"internalType": "uint256[]",
				"name": "randomWords",
				"type": "uint256[]"
			}
		],
		"name": "rawFulfillRandomWords",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "requestIds",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "requestRandomNum",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "requestId",
				"type": "uint256"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	}
]
var data = "60a06040526108cb600060146101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055507f474e34a077df58807dbe9c96d3c009b23b3c6d0cce433e59bbf5b34f823bc56c60001b600355620186a0600460006101000a81548163ffffffff021916908363ffffffff16021790555060036004806101000a81548161ffff021916908361ffff1602179055506001600460066101000a81548163ffffffff021916908363ffffffff1602179055503480156100c557600080fd5b50738103b0a8a00be2ddc778e6e7eaa21791cd3646258073ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff168152505050738103b0a8a00be2ddc778e6e7eaa21791cd3646256000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506080516108626101856000396000818160db015261012f01526108626000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80631fe543e31461005157806368dcc4931461006d5780638796ba8c1461008b578063fc2a88c3146100bb575b600080fd5b61006b600480360381019061006691906104eb565b6100d9565b005b610075610199565b6040516100829190610556565b60405180910390f35b6100a560048036038101906100a09190610571565b6102e1565b6040516100b29190610556565b60405180910390f35b6100c3610305565b6040516100d09190610556565b60405180910390f35b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461018b57337f00000000000000000000000000000000000000000000000000000000000000006040517f1cf993f40000000000000000000000000000000000000000000000000000000081526004016101829291906105df565b60405180910390fd5b610195828261030b565b5050565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16635d3b1d30600354600060149054906101000a900467ffffffffffffffff1660048054906101000a900461ffff16600460009054906101000a900463ffffffff16600460069054906101000a900463ffffffff166040518663ffffffff1660e01b8152600401610247959493929190610680565b6020604051808303816000875af1158015610266573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061028a91906106e8565b9050806002819055507fcc58b13ad3eab50626c6a6300b1d139cd6ebb1688a7cced9461c2f7e762665ee81600460069054906101000a900463ffffffff166040516102d6929190610715565b60405180910390a190565b600181815481106102f157600080fd5b906000526020600020016000915090505481565b60025481565b7ffe2e2d779dba245964d4e3ef9b994be63856fd568bf7d3ca9e224755cb1bd54d828260405161033c9291906107fc565b60405180910390a15050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b61036f8161035c565b811461037a57600080fd5b50565b60008135905061038c81610366565b92915050565b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6103e082610397565b810181811067ffffffffffffffff821117156103ff576103fe6103a8565b5b80604052505050565b6000610412610348565b905061041e82826103d7565b919050565b600067ffffffffffffffff82111561043e5761043d6103a8565b5b602082029050602081019050919050565b600080fd5b600061046761046284610423565b610408565b9050808382526020820190506020840283018581111561048a5761048961044f565b5b835b818110156104b3578061049f888261037d565b84526020840193505060208101905061048c565b5050509392505050565b600082601f8301126104d2576104d1610392565b5b81356104e2848260208601610454565b91505092915050565b6000806040838503121561050257610501610352565b5b60006105108582860161037d565b925050602083013567ffffffffffffffff81111561053157610530610357565b5b61053d858286016104bd565b9150509250929050565b6105508161035c565b82525050565b600060208201905061056b6000830184610547565b92915050565b60006020828403121561058757610586610352565b5b60006105958482850161037d565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006105c98261059e565b9050919050565b6105d9816105be565b82525050565b60006040820190506105f460008301856105d0565b61060160208301846105d0565b9392505050565b6000819050919050565b61061b81610608565b82525050565b600067ffffffffffffffff82169050919050565b61063e81610621565b82525050565b600061ffff82169050919050565b61065b81610644565b82525050565b600063ffffffff82169050919050565b61067a81610661565b82525050565b600060a0820190506106956000830188610612565b6106a26020830187610635565b6106af6040830186610652565b6106bc6060830185610671565b6106c96080830184610671565b9695505050505050565b6000815190506106e281610366565b92915050565b6000602082840312156106fe576106fd610352565b5b600061070c848285016106d3565b91505092915050565b600060408201905061072a6000830185610547565b6107376020830184610671565b9392505050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6107738161035c565b82525050565b6000610785838361076a565b60208301905092915050565b6000602082019050919050565b60006107a98261073e565b6107b38185610749565b93506107be8361075a565b8060005b838110156107ef5781516107d68882610779565b97506107e183610791565b9250506001810190506107c2565b5085935050505092915050565b60006040820190506108116000830185610547565b8181036020830152610823818461079e565b9050939250505056fea2646970667358221220dab98c0c39e3229c76f09cb20091e05639de7bb7db00b282c0e5261c9c879cc964736f6c63430008120033"

var Web3 = require("web3")
var web3 = new Web3(new Web3.providers.HttpProvider(localhost))
// web3.eth.getAccounts(function (error, result) {
//     console.log("账户列表地址：");
//     console.log(result);
// });

var vrfv2consumerContract = new web3.eth.Contract(contract_abi, contract_address)

vrfv2consumerContract.options.data = data;

// console.log(vrfv2consumerContract)

// vrfv2consumerContract.methods.requestRandomNum().send({ from: account_1}, function (error, result) {
//     console.log("requestRandomNum_结果："+result)
// })

try{
    const result = vrfv2consumerContract.methods.requestRandomNum()
            .send({from: account_1});
    console.log(result);
  }catch (error){
    console.log(error)
  }